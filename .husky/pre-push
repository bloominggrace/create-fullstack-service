#!/bin/zsh

GIT_STATUS=$(git status --porcelain)

if ! pnpm lint; then
  echo "ğŸ”´ ë¦°íŠ¸ ê²€ì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."
  exit 1
fi

if [ "$GIT_STATUS" != "$(git status --porcelain)" ]; then
  echo "âš ï¸ ì½”ë“œê°€ ìˆ˜ì •ë˜ì—ˆìœ¼ë‹ˆ ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•œ ë’¤ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”."
  exit 1
fi

if ! pnpm type-check; then
  echo "ğŸ”´ íƒ€ì… ê²€ì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."
  exit 1
fi

exit 0